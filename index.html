<script>
function handleSubmit(e) {
  e.preventDefault();

  const form = e.target;
  const nama = form.nama.value.trim();
  const wa = form.wa.value.trim();
  const program = form.program.value;

  if (!nama || !wa || !program) {
    alert("Mohon isi semua data ya bro!");
    return;
  }

  let kelasName = '';
  let biaya = '';
  switch(program) {
    case 'online-reguler':
      kelasName = 'Kelas Online Reguler';
      biaya = 'Rp 1.750.000';
      break;
    case 'reguler':
      kelasName = 'Kelas Reguler (Offline/Intensif)';
      biaya = 'Rp 5.500.000';
      break;
    case 'karyawan':
      kelasName = 'Kelas Karyawan';
      biaya = 'Rp 4.000.000';
      break;
    case 'to-pembahasan':
      kelasName = 'Kelas Try Out + Pembahasan Soal';
      biaya = 'Rp 150.000';
      break;
  }

  // Format pesan yang akan dikirim ke admin via WA
  const pesan = 
`*Pendaftaran Baru - Kursus Bahasa Korea*%0A%0A` +
`Nama Lengkap: ${nama}%0A` +
`Nomor WA: ${wa}%0A` +
`Kelas: ${kelasName}%0A` +
`Biaya: ${biaya}%0A%0A` +
`Mohon segera ditindaklanjuti ya admin! ðŸš€`;

  // Nomor admin (internasional format, tanpa + atau spasi)
  const nomorAdmin = "62818055518900";  // 0818055518900 â†’ 62818055518900

  // Buka WhatsApp dengan pesan siap kirim
  const urlWA = `https://wa.me/${nomorAdmin}?text=${pesan}`;

  // Redirect / buka link
  window.open(urlWA, '_blank');

  // Tampilkan konfirmasi ke user (opsional, biar nggak bingung)
  alert(`Terima kasih kak ${nama}!\\nData pendaftaran sudah siap dikirim ke admin via WhatsApp.\\nSilakan tekan "Kirim" di WhatsApp ya bro!`);

  form.reset();
}

// Auto format nomor WA (tetap pakai yang lama)
document.getElementById('wa').addEventListener('input', function(e) {
  let val = e.target.value.replace(/\D/g, '');
  if (val.startsWith('0')) val = val;
  else if (val.startsWith('62')) val = '0' + val.slice(2);
  e.target.value = val.slice(0, 13);
});
</script>
